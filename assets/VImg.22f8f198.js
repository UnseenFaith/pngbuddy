import{az as A,A as l,t as x,h as F,l as M,k as q,a5 as j,j as y,H as _,e as V,u as B,a as s,G as $,C as L,a8 as U,a0 as T,a1 as G,a4 as J,a2 as K}from"./index.95fa3473.js";const ie=A("avatar",()=>{const e=l(""),r=l(""),o=l(""),t=l(""),v=l(""),a=l(!1),i=l(!0),m=l(!0),g=l(250),u=l(15e3),d=l(30),f=l([]),b=l(4455),z=l("");function k(h){v.value=h}function w(h){t.value=h}return{idle:e,speak:r,blink:o,blinkSpeak:t,inputDevice:v,grayscale:a,blinkEnabled:i,blinkSpeakEnabled:m,blinkDuration:g,blinkInterval:u,threshold:d,inputs:f,updateInputDevice:k,updateBlink:w,port:b,password:z}}),Q=x({transition:{type:[Boolean,String,Object],default:"fade-transition",validator:e=>e!==!0}},"transition"),N=(e,r)=>{let{slots:o}=r;const{transition:t,...v}=e,{component:a=q,...i}=typeof t=="object"?t:{};return F(a,M(typeof t=="string"?{name:t}:i,v),o)};function X(e,r){if(!j)return;const o=r.modifiers||{},t=r.value,{handler:v,options:a}=typeof t=="object"?t:{handler:t,options:{}},i=new IntersectionObserver(function(){var m;let g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],u=arguments.length>1?arguments[1]:void 0;const d=(m=e._observe)==null?void 0:m[r.instance.$.uid];if(!d)return;const f=g.some(b=>b.isIntersecting);v&&(!o.quiet||d.init)&&(!o.once||f||d.init)&&v(f,g,u),f&&o.once?D(e,r):d.init=!0},a);e._observe=Object(e._observe),e._observe[r.instance.$.uid]={init:!1,observer:i},i.observe(e)}function D(e,r){var o;const t=(o=e._observe)==null?void 0:o[r.instance.$.uid];!t||(t.observer.unobserve(e),delete e._observe[r.instance.$.uid])}const Y={mounted:X,unmounted:D},Z=Y;const ee=x({height:[Number,String],maxHeight:[Number,String],maxWidth:[Number,String],minHeight:[Number,String],minWidth:[Number,String],width:[Number,String]},"dimension");function te(e){return{dimensionStyles:y(()=>({height:_(e.height),maxHeight:_(e.maxHeight),maxWidth:_(e.maxWidth),minHeight:_(e.minHeight),minWidth:_(e.minWidth),width:_(e.width)}))}}function ne(e){return{aspectStyles:y(()=>{const r=Number(e.aspectRatio);return r?{paddingBottom:String(1/r*100)+"%"}:void 0})}}const ae=V({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...ee()},setup(e,r){let{slots:o}=r;const{aspectStyles:t}=ne(e),{dimensionStyles:v}=te(e);return B(()=>{var a;return s("div",{class:"v-responsive",style:v.value},[s("div",{class:"v-responsive__sizer",style:t.value},null),(a=o.additional)==null?void 0:a.call(o),o.default&&s("div",{class:["v-responsive__content",e.contentClass]},[o.default()])])}),{}}}),se=V({name:"VImg",directives:{intersect:Z},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...Q()},emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,r){let{emit:o,slots:t}=r;const v=l(""),a=l(),i=l(e.eager?"loading":"idle"),m=l(),g=l(),u=y(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),d=y(()=>u.value.aspect||m.value/g.value||0);$(()=>e.src,()=>{f(i.value!=="idle")}),$(d,(n,c)=>{!n&&c&&a.value&&h(a.value)}),L(()=>f());function f(n){if(!(e.eager&&n)&&!(j&&!n&&!e.eager)){if(i.value="loading",u.value.lazySrc){const c=new Image;c.src=u.value.lazySrc,h(c,null)}!u.value.src||U(()=>{var c,S;if(o("loadstart",((c=a.value)==null?void 0:c.currentSrc)||u.value.src),(S=a.value)!=null&&S.complete){if(a.value.naturalWidth||z(),i.value==="error")return;d.value||h(a.value,null),b()}else d.value||h(a.value),k()})}}function b(){var n;k(),i.value="loaded",o("load",((n=a.value)==null?void 0:n.currentSrc)||u.value.src)}function z(){var n;i.value="error",o("error",((n=a.value)==null?void 0:n.currentSrc)||u.value.src)}function k(){const n=a.value;n&&(v.value=n.currentSrc||n.src)}let w=-1;function h(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const S=()=>{clearTimeout(w);const{naturalHeight:W,naturalWidth:H}=n;W||H?(m.value=H,g.value=W):!n.complete&&i.value==="loading"&&c!=null?w=window.setTimeout(S,c):(n.currentSrc.endsWith(".svg")||n.currentSrc.startsWith("data:image/svg+xml"))&&(m.value=1,g.value=1)};S()}const I=y(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),O=()=>{var n;if(!u.value.src||i.value==="idle")return null;const c=s("img",{class:["v-img__img",I.value],src:u.value.src,srcset:u.value.srcset,alt:"",sizes:e.sizes,ref:a,onLoad:b,onError:z},null),S=(n=t.sources)==null?void 0:n.call(t);return s(N,{transition:e.transition,appear:!0},{default:()=>[T(S?s("picture",{class:"v-img__picture"},[S,c]):c,[[K,i.value==="loaded"]])]})},C=()=>s(N,{transition:e.transition},{default:()=>[u.value.lazySrc&&i.value!=="loaded"&&s("img",{class:["v-img__img","v-img__img--preload",I.value],src:u.value.lazySrc,alt:""},null)]}),E=()=>t.placeholder?s(N,{transition:e.transition,appear:!0},{default:()=>[(i.value==="loading"||i.value==="error"&&!t.error)&&s("div",{class:"v-img__placeholder"},[t.placeholder()])]}):null,P=()=>t.error?s(N,{transition:e.transition,appear:!0},{default:()=>[i.value==="error"&&s("div",{class:"v-img__error"},[t.error()])]}):null,p=()=>e.gradient?s("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,R=l(!1);{const n=$(d,c=>{c&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{R.value=!0})}),n())})}return B(()=>T(s(ae,{class:["v-img",{"v-img--booting":!R.value}],style:{width:_(e.width==="auto"?m.value:e.width)},aspectRatio:d.value,"aria-label":e.alt,role:e.alt?"img":void 0},{additional:()=>s(J,null,[s(O,null,null),s(C,null,null),s(p,null,null),s(E,null,null),s(P,null,null)]),default:t.default}),[[G("intersect"),{handler:f,options:e.options},null,{once:!0}]])),{currentSrc:v,image:a,state:i,naturalWidth:m,naturalHeight:g}}});export{N as M,se as V,ee as a,te as b,ae as c,Z as i,Q as m,ie as u};
